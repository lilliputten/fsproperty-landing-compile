/*!
 * tabcomplete
 * http://github.com/erming/tabcomplete
 * v1.4.1
 */
!function(t){function e(e){var n=this,i=n.prev(".hint");n.css({backgroundColor:"transparent",position:"relative"}),i.length||(n.options.wrapInput&&n.wrap(t("<div>").css({position:"relative",height:n.css("height"),display:n.css("display")})),(i=n.clone().attr("tabindex",-1).removeAttr("id name placeholder").addClass("hint").insertBefore(n)).css({position:"absolute"}));var a="";if(void 0!==e){var r=n.val();a=r+e.substr(r.split(/ |\n/).pop().length)}i.val(a)}function n(t){var e=this,n=e.val();t&&(e.val(n+t.substr(n.split(/ |\n/).pop().length)),e[0].selectionStart=n.length)}var i=8,a=9,r=38,l=40;t.tabcomplete={},t.tabcomplete.defaultOptions={after:"",arrowKeys:!1,hint:"placeholder",match:function(e,n,i){return t.grep(n,(function(t){return i?!t.indexOf(e):!t.toLowerCase().indexOf(e.toLowerCase())}))},caseSensitive:!1,minLength:1,wrapInput:!0},t.fn.tab=t.fn.tabcomplete=function(s,o){if(this.length>1)return this.each((function(){t(this).tabcomplete(s,o)}));var h=this.prop("tagName");if("INPUT"==h||"TEXTAREA"==h){this.options=o=t.extend(t.tabcomplete.defaultOptions,o),this.unbind(".tabcomplete"),this.prev(".hint").remove();var c=this,p=!1,u=-1,v=[],f="",g=t.noop;switch(o.hint){case"placeholder":g=e;break;case"select":g=n}return this.on("input.tabcomplete",(function(){var e=c.val(),n=e.split(/ |\n/).pop();u=-1,f="",v=[],c[0].selectionStart==e.length&&n.length&&(v=o.match(n,s,o.caseSensitive),o.after&&(v=t.map(v,(function(t){return t+o.after})))),c.trigger("match",v.length),o.hint&&(("select"!=o.hint||!p)&&n.length>=o.minLength?g.call(c,v[0]):g.call(c,"")),p&&(p=!1)})),this.on("keydown.tabcomplete",(function(t){var e=t.which;if(e==a||o.arrowKeys&&(e==r||e==l)){if(t.preventDefault(),e!=r)u++;else{if(-1==u)return;0==u?u=v.length-1:u--}var n=v[u%v.length];if(!n)return;var s=c.val();if((f=f||s.split(/ |\n/).pop()).length<o.minLength)return;var h="select"==o.hint?s:s.substr(0,c[0].selectionStart-f.length)+n;c.val(h),"select"==o.hint&&(c[0].selectionStart=h.length),f=n,c.trigger("tabcomplete",f),o.hint&&g.call(c,"")}else t.which==i&&(p=!0,u=-1,f="")})),o.hint&&g.call(this,""),this}}}(jQuery);