test("sort data",(function(){"use strict";var t=new Isotope("#get-sort-data",{layoutMode:"fitRows",getSortData:{ninjaTurtle:"[data-ninja-turtle]",fruit:"span.fruit",b:"b parseFloat",i:"i parseInt",bbroke:"b foobar"}}),a=t.items[0],e=t.items[1];equal(a.sortData.ninjaTurtle,"leonardo","[data-attr] shorthand"),equal(a.sortData.fruit,"watermelon","query selector shorthand"),equal(a.sortData.b,3.14,"parseFloat parser"),equal(a.sortData.i,42,"parseInt parser"),equal(a.sortData.bbroke,"3.14","default nonparser");var r=void 0!==document.documentElement.textContent?"textContent":"innerText";function o(t,a){t[r]=a}var n=t.items[0].element,s=t.items[1].element;n.setAttribute("data-ninja-turtle","donatello"),o(n.querySelector("span.fruit"),"mango"),o(n.querySelector("b"),"7.24"),o(n.querySelector("i"),"foo"),t.updateSortData(n);var u=", after updateSortData on single item";equal(a.sortData.ninjaTurtle,"donatello","[data-attr] shorthand"+u),equal(a.sortData.fruit,"mango","query selector shorthand"+u),equal(a.sortData.b,7.24,"parseFloat parser"+u),ok(isNaN(a.sortData.i),"parseInt parser"+u),equal(a.sortData.bbroke,"7.24","default nonparser"+u),n.setAttribute("data-ninja-turtle","leonardo"),o(n.querySelector("span.fruit"),"passion fruit"),s.setAttribute("data-ninja-turtle","michelangelo"),o(s.querySelector("span.fruit"),"starfruit"),t.updateSortData(),u=", after updateSortData on all items",equal(a.sortData.ninjaTurtle,"leonardo","[data-attr] shorthand"+u),equal(a.sortData.fruit,"passion fruit","query selector shorthand"+u),equal(e.sortData.ninjaTurtle,"michelangelo","[data-attr] shorthand"+u),equal(e.sortData.fruit,"starfruit","query selector shorthand"+u),t.options.itemSelector="none",t.reloadItems(),t.updateSortData(),ok(!0,"updateSortData on empty container is ok"),t.updateSortData(document.createElement("div")),ok(!0,"updateSortData with non-item is ok, with no child items"),t.updateSortData(!1),ok(!0,"updateSortData with falsy is ok, with no child items"),t.updateSortData([]),ok(!0,"updateSortData with empty array is ok, with no child items"),t.updateSortData(jQuery()),ok(!0,"updateSortData with empty jQuery object is ok, with no child items"),delete t.options.itemSelector,t.options.getSortData.badQuery="bad-query",t.options.getSortData.badAttr="[bad-attr]",t._getSorters(),t.reloadItems(),a=t.items[0],equal(a.sortData.badQuery,null,"bad query returns null"),equal(a.sortData.badAttr,null,"bad attr returns null")}));