/*!
 * Isotope v2.1.0
 * Filter & sort magical layouts
 * http://isotope.metafizzy.co
 */
!function(t){"use strict";var e=t.jQuery;var o=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},r=document.documentElement.textContent?function(t){return t.textContent}:function(t){return t.innerText},i=Object.prototype.toString;var n=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var o=0,r=t.length;o<r;o++)if(t[o]===e)return o;return-1};function s(t){var e=[];if(function(t){return"[object Array]"===i.call(t)}(t))e=t;else if(t&&"number"==typeof t.length)for(var o=0,r=t.length;o<r;o++)e.push(t[o]);else e.push(t);return e}function a(t,i,a,u,h){var p=t.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});p.Item=u,p.LayoutMode=h,p.prototype._create=function(){for(var e in this.itemGUID=0,this._sorters={},this._getSorters(),t.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"],h.modes)this._initLayoutMode(e)},p.prototype.reloadItems=function(){this.itemGUID=0,t.prototype.reloadItems.call(this)},p.prototype._itemize=function(){for(var e=t.prototype._itemize.apply(this,arguments),o=0,r=e.length;o<r;o++){e[o].id=this.itemGUID++}return this._updateItemsSortData(e),e},p.prototype._initLayoutMode=function(t){var e=h.modes[t],o=this.options[t]||{};this.options[t]=e.options?function(t,e){for(var o in e)t[o]=e[o];return t}(e.options,o):o,this.modes[t]=new e(this)},p.prototype.layout=function(){this._isLayoutInited||!this.options.isInitLayout?this._layout():this.arrange()},p.prototype._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},p.prototype.arrange=function(t){this.option(t),this._getIsInstant();var e=this._filter(this.items);this.filteredItems=e.matches;var o=this;function r(){o.reveal(e.needReveal),o.hide(e.needHide)}this._isInstant?this._noTransition(r):r(),this._sort(),this._layout()},p.prototype._init=p.prototype.arrange,p.prototype._getIsInstant=function(){var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=t,t},p.prototype._filter=function(t){var e=this.options.filter;e=e||"*";for(var o=[],r=[],i=[],n=this._getFilterTest(e),s=0,a=t.length;s<a;s++){var u=t[s];if(!u.isIgnored){var h=n(u);h&&o.push(u),h&&u.isHidden?r.push(u):h||u.isHidden||i.push(u)}}return{matches:o,needReveal:r,needHide:i}},p.prototype._getFilterTest=function(t){return e&&this.options.isJQueryFiltering?function(o){return e(o.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return a(e.element,t)}},p.prototype.updateSortData=function(t){var e;t?(t=s(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},p.prototype._getSorters=function(){var t=this.options.getSortData;for(var e in t){var o=t[e];this._sorters[e]=f(o)}},p.prototype._updateItemsSortData=function(t){for(var e=t&&t.length,o=0;e&&o<e;o++){t[o].updateSortData()}};var f=function(t){if("string"!=typeof t)return t;var e=o(t).split(" "),i=e[0],n=i.match(/^\[(.+)\]$/),s=function(t,e){return t?function(e){return e.getAttribute(t)}:function(t){var o=t.querySelector(e);return o&&r(o)}}(n&&n[1],i),a=p.sortDataParsers[e[1]];return t=a?function(t){return t&&a(s(t))}:function(t){return t&&s(t)}};p.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},p.prototype._sort=function(){var t=this.options.sortBy;if(t){var e=function(t,e){return function(o,r){for(var i=0,n=t.length;i<n;i++){var s=t[i],a=o.sortData[s],u=r.sortData[s];if(a>u||a<u)return(a>u?1:-1)*((void 0!==e[s]?e[s]:e)?1:-1)}return 0}}([].concat.apply(t,this.sortHistory),this.options.sortAscending);this.filteredItems.sort(e),t!==this.sortHistory[0]&&this.sortHistory.unshift(t)}},p.prototype._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},p.prototype._resetLayout=function(){t.prototype._resetLayout.call(this),this._mode()._resetLayout()},p.prototype._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},p.prototype._manageStamp=function(t){this._mode()._manageStamp(t)},p.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},p.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},p.prototype.appended=function(t){var e=this.addItems(t);if(e.length){var o=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(o)}},p.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var o=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=o.concat(this.filteredItems),this.items=e.concat(this.items)}},p.prototype._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},p.prototype.insert=function(t){var e=this.addItems(t);if(e.length){var o,r,i=e.length;for(o=0;o<i;o++)r=e[o],this.element.appendChild(r.element);var n=this._filter(e).matches;for(o=0;o<i;o++)e[o].isLayoutInstant=!0;for(this.arrange(),o=0;o<i;o++)delete e[o].isLayoutInstant;this.reveal(n)}};var l=p.prototype.remove;return p.prototype.remove=function(t){t=s(t);var e,o,r,i=this.getItems(t);if(l.call(this,t),i&&i.length)for(var a=0,u=i.length;a<u;a++){var h=i[a];e=h,o=this.filteredItems,r=void 0,-1!==(r=n(o,e))&&o.splice(r,1)}},p.prototype.shuffle=function(){for(var t=0,e=this.items.length;t<e;t++){this.items[t].sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},p.prototype._noTransition=function(t){var e=this.options.transitionDuration;this.options.transitionDuration=0;var o=t.call(this);return this.options.transitionDuration=e,o},p.prototype.getFilteredItemElements=function(){for(var t=[],e=0,o=this.filteredItems.length;e<o;e++)t.push(this.filteredItems[e].element);return t},p}"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","./item","./layout-mode","./layout-modes/masonry","./layout-modes/fit-rows","./layout-modes/vertical"],a):"object"==typeof exports?module.exports=a(require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):t.Isotope=a(t.Outlayer,t.getSize,t.matchesSelector,t.Isotope.Item,t.Isotope.LayoutMode)}(window);