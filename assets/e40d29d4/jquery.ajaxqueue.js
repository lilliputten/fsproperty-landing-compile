!function(e){var r=e.ajax,c={},u=[],o=[];e.ajax=function(e){var s=(e=jQuery.extend(e,jQuery.extend({},jQuery.ajaxSettings,e))).port;switch(e.mode){case"abort":return c[s]&&c[s].abort(),c[s]=r.apply(this,arguments);case"queue":var t=e.complete;return e.complete=function(){t&&t.apply(this,arguments),jQuery([r]).dequeue("ajax"+s)},void jQuery([r]).queue("ajax"+s,(function(){r(e)}));case"sync":var n=u.length;u[n]={error:e.error,success:e.success,complete:e.complete,done:!1},o[n]={error:[],success:[],complete:[]},e.error=function(){o[n].error=arguments},e.success=function(){o[n].success=arguments},e.complete=function(){if(o[n].complete=arguments,u[n].done=!0,0==n||!u[n-1])for(var e=n;e<u.length&&u[e].done;e++)u[e].error&&u[e].error.apply(jQuery,o[e].error),u[e].success&&u[e].success.apply(jQuery,o[e].success),u[e].complete&&u[e].complete.apply(jQuery,o[e].complete),u[e]=null,o[e]=null}}return r.apply(this,arguments)}}(jQuery);